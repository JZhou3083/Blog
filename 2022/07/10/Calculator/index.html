<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="设计一个计算器最头疼的就是中序后缀表达式中的括号，比如3+4x5 与 (3+4)x5 的计算顺序造成结果不一样。一个经典的解决办法就是将其转化成后缀表达式，也称逆波兰式。本文章是因为经常碰到设计计算器或者类似的题目，做一个总结来捋一捋。   Reverse Polish notationThe idea of Reverse Polish notation is to convert the i">
<meta property="og:type" content="article">
<meta property="og:title" content="Calculator">
<meta property="og:url" content="https://jzhou3083.github.io/Blog/2022/07/10/Calculator/index.html">
<meta property="og:site_name" content="SeaNote">
<meta property="og:description" content="设计一个计算器最头疼的就是中序后缀表达式中的括号，比如3+4x5 与 (3+4)x5 的计算顺序造成结果不一样。一个经典的解决办法就是将其转化成后缀表达式，也称逆波兰式。本文章是因为经常碰到设计计算器或者类似的题目，做一个总结来捋一捋。   Reverse Polish notationThe idea of Reverse Polish notation is to convert the i">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2022-07-10T10:32:09.000Z">
<meta property="article:modified_time" content="2022-07-11T08:36:39.899Z">
<meta property="article:author" content="Jing Zhou">
<meta property="article:tag" content="Algorithms">
<meta property="article:tag" content="Leedcode">
<meta name="twitter:card" content="summary">
    
    
      
        
          <link rel="shortcut icon" href="/Blog/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/Blog/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/Blog/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>Calculator</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/Blog/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
		<script type="text/x-mathjax-config">
		  MathJax.Hub.Config({
			tex2jax: {
			  skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
			  inlineMath: [['$','$']]
			}
		  });
		</script>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>
	
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.2.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/Blog/">Home</a></li><!--
     --><!--
       --><li><a href="/Blog/about/">About</a></li><!--
     --><!--
       --><li><a href="/Blog/archives/">Writing</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="https://github.com/JZhou3083">Projects</a></li><!--
     --><!--
       --><li><a href="/Blog/search/">Search</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        
        <li><a class="icon" aria-label="Next post" href="/Blog/2022/07/08/Xv6-Lab-Utilities/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://jzhou3083.github.io/Blog/2022/07/10/Calculator/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://jzhou3083.github.io/Blog/2022/07/10/Calculator/&text=Calculator"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://jzhou3083.github.io/Blog/2022/07/10/Calculator/&title=Calculator"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://jzhou3083.github.io/Blog/2022/07/10/Calculator/&is_video=false&description=Calculator"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Calculator&body=Check out this article: https://jzhou3083.github.io/Blog/2022/07/10/Calculator/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://jzhou3083.github.io/Blog/2022/07/10/Calculator/&title=Calculator"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://jzhou3083.github.io/Blog/2022/07/10/Calculator/&title=Calculator"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://jzhou3083.github.io/Blog/2022/07/10/Calculator/&title=Calculator"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://jzhou3083.github.io/Blog/2022/07/10/Calculator/&title=Calculator"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://jzhou3083.github.io/Blog/2022/07/10/Calculator/&name=Calculator&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://jzhou3083.github.io/Blog/2022/07/10/Calculator/&t=Calculator"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Reverse-Polish-notation"><span class="toc-number">1.</span> <span class="toc-text">Reverse Polish notation</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Infix-to-Postfix"><span class="toc-number">2.</span> <span class="toc-text">Infix to Postfix</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Calculation"><span class="toc-number">3.</span> <span class="toc-text">Calculation</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Practice-Leedcode-224"><span class="toc-number">4.</span> <span class="toc-text">Practice: Leedcode 224</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Question"><span class="toc-number">4.1.</span> <span class="toc-text">Question</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Solution"><span class="toc-number">4.2.</span> <span class="toc-text">Solution</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Summary"><span class="toc-number">5.</span> <span class="toc-text">Summary</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Reference"><span class="toc-number">6.</span> <span class="toc-text">Reference</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Calculator
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Jing Zhou</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2022-07-10T10:32:09.000Z" itemprop="datePublished">2022-07-10</time>
        
      
    </div>


      

      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link-link" href="/Blog/tags/Algorithms/" rel="tag">Algorithms</a>, <a class="tag-link-link" href="/Blog/tags/Leedcode/" rel="tag">Leedcode</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <blockquote>
<small><i>设计一个计算器最头疼的就是中序后缀表达式中的括号，比如3+4x5 与 (3+4)x5 的计算顺序造成结果不一样。一个经典的解决办法就是将其转化成后缀表达式，也称逆波兰式。本文章是因为经常碰到设计计算器或者类似的题目，做一个总结来捋一捋。</i></small>
</blockquote>

<h1 id="Reverse-Polish-notation"><a href="#Reverse-Polish-notation" class="headerlink" title="Reverse Polish notation"></a>Reverse Polish notation</h1><p>The idea of Reverse Polish notation is to convert the infix notation into a format of:<br>$$ (Num_{left})\ (Num_{right})\ Ops $$<br>and maintain that for the whole expression. Where there are consecutive operands, the operand with higher priority goes first. For instance:<br>$$ 3-4\times 5 &#x3D;&gt; 3\quad4\quad5\times- $$<br>and conversely:<br>$$ (3-4)\times 5 &#x3D;&gt; 3\quad4 - 5\times\quad$$<br>Later in the calculating, whenever the program read a operand from the postfix expression, it pops out the previous two numbers, calculate with the operand and push the result back to the stack. Eventually, the last number left in the stack will be the result of the equation.</p>
<h1 id="Infix-to-Postfix"><a href="#Infix-to-Postfix" class="headerlink" title="Infix to Postfix"></a>Infix to Postfix</h1><p>So we know how Reverse Polish notation can be useful. What’s next is how to generate it from infix expression. Let’s start from the easy part where there aren’t any brackets. In such case, the converter only cares about the priority:</p>
<ul>
<li>‘*’ and ‘&#x2F;‘ have higher priority than ‘+’ and ‘-‘</li>
<li>When the priorities are equal, operand on the left has higher priority</li>
</ul>
<p>Hence, create stacks $\color{red}{ops}$ to store the operands and $\color{green}{out}$, read chars from the infix expression:</p>
<ul>
<li>If a char is a number, push it into $\color{green}{out}$</li>
<li>If a char is a operand, compare it with the operand at the top of the $\color{red}{ops}$:<ul>
<li>If it has higher priority, push it into $\color{red}{ops}$</li>
<li>If it has lower or equal priority, pop a operand from $\color{red}{ops}$ and push it into $\color{green}{out}$ until finding the next ‘higher’ operand. Then push the new char into<br>$$\color{red}{ops}$.</li>
</ul>
</li>
<li>When the iteration on Infix expression finish, pop what’s left in $\color{red}{ops}$ and push into $\color{green}{out}$.</li>
</ul>
<p>Now brings in the brackets, what it does is simply making a mark for ‘coming back’ that functions as the ‘higher’ operand. That is, when the char is ‘)’, the $\color{red}{ops}$ keeps popping elements and pushing them into $\color{green}{out}$ until it pops out the nearest ‘(‘. To avoid ‘(‘ from disrupting other operands’ popping, the priority of ‘(‘ is set to be the lowest. Note: No need to set ‘)’ priority because it will never be pushed into the stack.</p>
<p>Example:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Python code</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">infixToPost</span>(<span class="params">s</span>):</span><br><span class="line">    level = &#123;&#125;</span><br><span class="line">    level[<span class="string">&#x27;*&#x27;</span>] = <span class="number">3</span></span><br><span class="line">    level[<span class="string">&#x27;/&#x27;</span>] = <span class="number">3</span></span><br><span class="line">    level[<span class="string">&#x27;+&#x27;</span>] = <span class="number">2</span></span><br><span class="line">    level[<span class="string">&#x27;-&#x27;</span>] = <span class="number">2</span></span><br><span class="line">    level[<span class="string">&#x27;(&#x27;</span>] = <span class="number">1</span></span><br><span class="line">    nums = <span class="string">&#x27;0123456789&#x27;</span></span><br><span class="line">    ops = <span class="string">&#x27;()+-*/&#x27;</span></span><br><span class="line">    out = <span class="built_in">list</span>()</span><br><span class="line">    stack = <span class="built_in">list</span>()</span><br><span class="line">    <span class="keyword">for</span> c <span class="keyword">in</span> s:</span><br><span class="line">        <span class="keyword">if</span> c <span class="keyword">in</span> nums:</span><br><span class="line">            out.append(c)</span><br><span class="line">        <span class="keyword">elif</span> c <span class="keyword">in</span> ops:</span><br><span class="line">            <span class="keyword">if</span> c == <span class="string">&#x27;(&#x27;</span>:</span><br><span class="line">                stack.append(c)</span><br><span class="line">            <span class="keyword">elif</span> c == <span class="string">&#x27;)&#x27;</span>:</span><br><span class="line">                <span class="keyword">while</span> (sign := stack.pop()) != <span class="string">&#x27;(&#x27;</span>:</span><br><span class="line">                    out.append(sign)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">while</span> stack <span class="keyword">and</span> level[stack[-<span class="number">1</span>]] &gt;= level[c]:</span><br><span class="line">                    out.append(stack.pop())</span><br><span class="line">                stack.append(c)</span><br><span class="line">    <span class="keyword">while</span> stack:</span><br><span class="line">        out.append(stack.pop())</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&quot;</span>.join(out)</span><br></pre></td></tr></table></figure>

<h1 id="Calculation"><a href="#Calculation" class="headerlink" title="Calculation"></a>Calculation</h1><p>The idea has been explained in the previous section:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># calculation</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">postfix_eval</span>(<span class="params">postfix_expr</span>):</span><br><span class="line">    operand_stack =Stack()</span><br><span class="line">    postfix_list = postfix_expr.split()</span><br><span class="line">    <span class="keyword">for</span> token <span class="keyword">in</span> postfix_list:</span><br><span class="line">        <span class="keyword">if</span> token.isnumeric():</span><br><span class="line">            operand_stack.push(<span class="built_in">int</span>(token))</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            top_operand2 = operand_stack.pop()</span><br><span class="line">            top_operand1 = operand_stack.pop()</span><br><span class="line">            result = do_math(token,top_operand1,top_operand2)</span><br><span class="line">            operand_stack.push(result)</span><br><span class="line">    <span class="keyword">return</span> operand_stack.pop()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Replace the string to operator</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">do_math</span>(<span class="params">op, op1, op2</span>):</span><br><span class="line">    <span class="keyword">if</span> op == <span class="string">&quot;+&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span> op1+op2</span><br><span class="line">    <span class="keyword">elif</span> op==<span class="string">&#x27;-&#x27;</span>:</span><br><span class="line">        <span class="keyword">return</span> op1-op2</span><br><span class="line">    <span class="keyword">elif</span> op==<span class="string">&#x27;*&#x27;</span>:</span><br><span class="line">        <span class="keyword">return</span> op1*op2</span><br><span class="line">    <span class="keyword">elif</span> op==<span class="string">&#x27;/&#x27;</span>:</span><br><span class="line">        <span class="keyword">return</span> op1/op2</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="Practice-Leedcode-224"><a href="#Practice-Leedcode-224" class="headerlink" title="Practice: Leedcode 224"></a>Practice: Leedcode 224</h1><h2 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h2><p>Given a string s representing a valid expression, implement a basic calculator to evaluate it, and return the result of the evaluation. Example 1: s &#x3D; “1 + 1”, output: 2; Example 2: s &#x3D; “2 -1 + 2”, output: 3; Example 3: s &#x3D; “(1+(4+5+2)-3)+(6+8)” , output: 23.</p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>As there are only addition and subtraction, no need to consider the priority but only the brackets. The idea is to keep track of the result from the left equation, the sign (+&#x2F;-) and the number as the right equation (similar to postfix). When the program read ‘(‘, it stack the res and sign, then reset them as 0s to tackle the equation inside the bracket as a new equation:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">calculate</span>(<span class="params">s</span>):</span><br><span class="line">    res, num, sign = <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span></span><br><span class="line">    stack = []</span><br><span class="line">    <span class="keyword">for</span> c <span class="keyword">in</span> s:</span><br><span class="line">        <span class="keyword">if</span> c.isdigit():</span><br><span class="line">            num = <span class="number">10</span> * num +<span class="built_in">int</span>(c)</span><br><span class="line">        <span class="keyword">elif</span> c ==<span class="string">&#x27;+&#x27;</span> <span class="keyword">or</span> c ==<span class="string">&#x27;-&#x27;</span>:</span><br><span class="line">            res = res + sign*num</span><br><span class="line">            num = <span class="number">0</span></span><br><span class="line">            sign = <span class="number">1</span> <span class="keyword">if</span> c ==<span class="string">&#x27;+&#x27;</span> <span class="keyword">else</span> -<span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> c == <span class="string">&#x27;(&#x27;</span>:</span><br><span class="line">            stack.append(res)</span><br><span class="line">            stack.append(sign)</span><br><span class="line">            res = <span class="number">0</span></span><br><span class="line">            sign = <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> c == <span class="string">&#x27;)&#x27;</span>:</span><br><span class="line">            res += sign*num</span><br><span class="line">            num = <span class="number">0</span></span><br><span class="line">            res *= stack.pop()</span><br><span class="line">            res += stack.pop()</span><br><span class="line">    res += sign * num</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h1><p>简而言之，计算器的关键是要用栈来构建后缀表达式。在后缀表达式中，先使用的计算符会放在前面，保证计算过程中会被先执行。而构建后缀的方法则是创建一个操作符栈，每当新的符号优先级低于操作符栈顶端的符号，则会弹出栈里面的优先级别大于或等于新符号的所有操作符，并放进输出。与此同时，类似的如果新的操作符是右括号，则会弹出并压入输出栈所有在左括号上方的所有符号，依次压入输出栈。迭代完后，把操作符栈剩下的符号以此弹出压入输出。</p>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><ol>
<li>Wikipedia. Reverse Polish notation. <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Reverse_Polish_notation#Explanation">https://en.wikipedia.org/wiki/Reverse_Polish_notation#Explanation</a></li>
<li>Leedcode. Basic calculator. <a target="_blank" rel="noopener" href="https://leetcode.cn/problems/basic-calculator/">https://leetcode.cn/problems/basic-calculator/</a></li>
</ol>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/Blog/">Home</a></li>
         
          <li><a href="/Blog/about/">About</a></li>
         
          <li><a href="/Blog/archives/">Writing</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://github.com/JZhou3083">Projects</a></li>
         
          <li><a href="/Blog/search/">Search</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Reverse-Polish-notation"><span class="toc-number">1.</span> <span class="toc-text">Reverse Polish notation</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Infix-to-Postfix"><span class="toc-number">2.</span> <span class="toc-text">Infix to Postfix</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Calculation"><span class="toc-number">3.</span> <span class="toc-text">Calculation</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Practice-Leedcode-224"><span class="toc-number">4.</span> <span class="toc-text">Practice: Leedcode 224</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Question"><span class="toc-number">4.1.</span> <span class="toc-text">Question</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Solution"><span class="toc-number">4.2.</span> <span class="toc-text">Solution</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Summary"><span class="toc-number">5.</span> <span class="toc-text">Summary</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Reference"><span class="toc-number">6.</span> <span class="toc-text">Reference</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://jzhou3083.github.io/Blog/2022/07/10/Calculator/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://jzhou3083.github.io/Blog/2022/07/10/Calculator/&text=Calculator"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://jzhou3083.github.io/Blog/2022/07/10/Calculator/&title=Calculator"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://jzhou3083.github.io/Blog/2022/07/10/Calculator/&is_video=false&description=Calculator"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Calculator&body=Check out this article: https://jzhou3083.github.io/Blog/2022/07/10/Calculator/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://jzhou3083.github.io/Blog/2022/07/10/Calculator/&title=Calculator"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://jzhou3083.github.io/Blog/2022/07/10/Calculator/&title=Calculator"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://jzhou3083.github.io/Blog/2022/07/10/Calculator/&title=Calculator"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://jzhou3083.github.io/Blog/2022/07/10/Calculator/&title=Calculator"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://jzhou3083.github.io/Blog/2022/07/10/Calculator/&name=Calculator&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://jzhou3083.github.io/Blog/2022/07/10/Calculator/&t=Calculator"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2021-2022
    Jing Zhou
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/Blog/">Home</a></li><!--
     --><!--
       --><li><a href="/Blog/about/">About</a></li><!--
     --><!--
       --><li><a href="/Blog/archives/">Writing</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="https://github.com/JZhou3083">Projects</a></li><!--
     --><!--
       --><li><a href="/Blog/search/">Search</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->
 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script> 




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script> 
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/Blog/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Umami Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
